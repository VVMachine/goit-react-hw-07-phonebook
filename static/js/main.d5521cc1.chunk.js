(this["webpackJsonpgoit-react-hw-02-phonebook"]=this["webpackJsonpgoit-react-hw-02-phonebook"]||[]).push([[0],{21:function(t,e,n){t.exports={button:"ContactList_button__2iahv",list:"ContactList_list__3Lr3Y"}},31:function(t,e,n){t.exports={input:"ContactForm_input__3bUhf"}},33:function(t,e,n){t.exports={enter:"slide_enter__3BWAt",enterActive:"slide_enterActive__26RvB",exit:"slide_exit__268D5",exitActive:"slide_exitActive__3piz5"}},34:function(t,e,n){t.exports={container:"Notification_container__1hs1c"}},35:function(t,e,n){t.exports={enter:"slideLogo_enter__1i_P_",enterActive:"slideLogo_enterActive__3uG6B",exit:"slideLogo_exit__1-Sq4",exitActive:"slideLogo_exitActive__vMaaK"}},36:function(t,e,n){t.exports={enter:"pop_enter__XFEaH",enterActive:"pop_enterActive__3M3Oz",exit:"pop_exit__341Cp",exitActive:"pop_exitActive__3ifAF"}},40:function(t,e,n){t.exports=n(67)},67:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),o=n(5),r=n.n(o),i=n(13),u=n(14),s=n(17),l=n(16),m=n(68),d=n(7),f=n(31),p=n.n(f),b=n(6),h=n(11),v=n.n(h),C=n(1),_=Object(C.b)("contact/addRequest"),E=Object(C.b)("contact/addSuccess"),O=Object(C.b)("contact/addError"),j=Object(C.b)("contact/removeRequest"),g=Object(C.b)("contact/removeSuccess"),x=Object(C.b)("contact/removeError"),y=Object(C.b)("contact/fetchRequest"),A=Object(C.b)("contact/fetchSuccess"),S=Object(C.b)("contact/fetchError"),N={filter:Object(C.b)("contact/filter"),addContactRequest:_,addContactSuccess:E,addContactError:O,removeContactRequest:j,removeContactSuccess:g,removeContactError:x,fetchContactRequest:y,fetchContactSuccess:A,fetchContactError:S};v.a.defaults.baseURL="http://localhost:9999";var k={addContact:function(t){return function(e){e(N.addContactRequest()),v.a.post("/contacts",t).then((function(t){return e(N.addContactSuccess(t.data))})).catch((function(t){return e(N.addContactError(t))}))}},removeContact:function(t){return function(e){e(N.removeContactRequest()),v.a.delete("/contacts/".concat(t)).then((function(){return e(N.removeContactSuccess(t))})).catch((function(t){return e(N.removeContactError(t))}))}},fetchContacts:function(){return function(t){t(N.fetchContactRequest()),v.a.get("/contacts").then((function(e){return t(N.fetchContactSuccess(e.data))})).catch((function(e){return t(N.fetchContactError(e))}))}}},L=n(4),R=function(t){return t.contacts.items},F={getContactItems:R,getFitredContactItems:Object(L.a)([R,function(t){return t.contacts.filter}],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))},H=function(t){Object(s.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:""},t.clearInput=function(t){t.target.value=""},t.inputHandler=function(e){var n=e.target,a=n.name,c=n.value;t.setState(Object(d.a)({},a,c))},t.addButtonHandler=function(e){var n=t.state,a=n.name,c=n.number;e.preventDefault(),t.props.contacts.some((function(t){return t.name===a}))?t.props.onOpenNotification():t.props.onAddContact({name:a,number:c})},t}return Object(u.a)(n,[{key:"render",value:function(){return c.a.createElement("form",null,c.a.createElement("div",{className:p.a.input},c.a.createElement("p",null,"Name"),c.a.createElement("input",{type:"text",placeholder:"Input name",name:"name",onChange:this.inputHandler,onClick:this.clearInput}),c.a.createElement("p",null,"Phone"),c.a.createElement("input",{type:"tel",placeholder:"Input number",name:"number",pattern:"[0-9]{3}-[0-9]{2}-[0-9]{2}",onChange:this.inputHandler,onClick:this.clearInput})),c.a.createElement("button",{className:"button",type:"submit",onClick:this.addButtonHandler},"Add Contact"))}}]),n}(a.Component);H.defaultProps={onAddButton:function(){}};var I={onAddContact:k.addContact},q=Object(b.b)((function(t){return{contacts:F.getFitredContactItems(t)}}),I)(H);function w(t){var e=t.filterHandler;return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Find contacts by name"),c.a.createElement("input",{type:"text",placeholder:"Input name",name:"filter",onChange:e}))}w.defaultProps={filterHandler:function(){}};var B=n(21),M=n.n(B),P=n(69),D=n(33),J=n.n(D);function U(t){var e=t.contactsList,n=t.onRemoveContact;return c.a.createElement(c.a.Fragment,null,c.a.createElement(P.a,{component:"ul",className:M.a.list},e.length>0&&e.map((function(t){var e=t.id,a=t.name,o=t.number;return c.a.createElement(m.a,{key:e,timeout:250,unmountOnExit:!0,classNames:J.a},c.a.createElement("li",{key:e},c.a.createElement("button",{className:M.a.button,type:"button",onClick:function(){return n(e)}},"Delete"),a,": ",o))}))))}U.defaultProps={contactsList:[],deleteHandler:function(){}};var z={onRemoveContact:k.removeContact},T=Object(b.b)((function(t){return{contactsList:F.getFitredContactItems(t)}}),z)(U);function G(){return c.a.createElement("h1",null,"Phonebook")}var K=n(34),W=n.n(K);function X(){return c.a.createElement("div",{className:W.a.container},c.a.createElement("p",null,"Contact already exists!"))}var Y,Q=n(35),V=n.n(Q),Z=n(36),$=n.n(Z),tt=function(t){Object(s.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={didMount:!1,contactExists:!1},t.handleOpenNotification=function(){t.setState((function(t){return{contactExists:!t.contactExists}}),(function(){return setTimeout((function(){t.setState((function(t){return{contactExists:!t.contactExists}}))}),1e3)}))},t.filterHandler=function(e){t.props.onChangeFilter(e.target.value)},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.setState({didMount:!0}),this.props.getSavedContacts()}},{key:"componentDidUpdate",value:function(t,e){e.contacts!==this.state.contacts&&localStorage.setItem("contacts",JSON.stringify(this.state.contacts))}},{key:"render",value:function(){var t=this.state,e=t.didMount,n=t.contactExists;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"App"},c.a.createElement(m.a,{in:e,timeout:500,classNames:V.a,appear:!0},c.a.createElement(G,null)),c.a.createElement(q,{onOpenNotification:this.handleOpenNotification}),c.a.createElement("h2",{className:"contactsTitle"},"Contacts"),c.a.createElement(w,{filterHandler:this.filterHandler}),c.a.createElement(T,null)),c.a.createElement(m.a,{in:n,timeout:250,unmountOnExit:!0,classNames:$.a},c.a.createElement(X,null)))}}]),n}(a.Component),et={onChangeFilter:N.filter,getSavedContacts:k.fetchContacts},nt=Object(b.b)(null,et)(tt),at=n(37),ct=n(3),ot=Object(C.c)([],(Y={},Object(d.a)(Y,N.addContactSuccess,(function(t,e){return[e.payload].concat(Object(at.a)(t))})),Object(d.a)(Y,N.removeContactSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),Object(d.a)(Y,N.fetchContactSuccess,(function(t,e){return e.payload})),Y)),rt=Object(C.c)("",Object(d.a)({},N.filter,(function(t,e){return e.payload}))),it=Object(ct.c)({items:ot,filter:rt}),ut=Object(C.a)({reducer:{contacts:it}});r.a.render(c.a.createElement(b.a,{store:ut},c.a.createElement(nt,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.d5521cc1.chunk.js.map